<h1 id="output"></h1>
<button id ="button1" onclick="myFunction(1)">Latte</button>
<button id ="button2" onclick="myFunction(2)">Cappuchino</button>
<button id ="button3" onclick="myFunction(3)">Frapino</button>
<button id = "back" onclick="back()">Back</button>


<script>
//Welcome message
//var welcome = confirm("Welcome to Cofee Making Game! Would you like to start?");

// Create variables in array
var coffee = ["Latte", "Cappuchino", "Frapino"];
var questionsAll = [questionsCoffee, questionsFrapino];
var chosenQuestions = 0;


//Create questions for caffee
var questionsCoffee =[
  "Please choose a coffee you want to make: ",
  "1. What size would you like?",
  "2. How many grams of espresso you should grind?",
  "3. How much milk would you like to add?",
  "4. How long will you heat the milk?",
  "5. How much foam you should get?"
]
console.log('test');
var answers = [
  ["Small", "Standart"],
  ["9g", "18g", "36g"],
  ["50ml", "100ml", "150ml"],
  ["10s","15s", "20s" ],
  ["1-2 cm", "2-3 cm", "3-4 cm"]
]
//console.log(answers);

var questionsFrapino = [
  "1. What size would you like to make?",
  "2. How much ice would you add?",
  "3. How much frapino mix would you add?",
  "4. Which flavor would you choose?",
  "5. How many pupmps of syrup would you add?",
  "6. How long you will mix it?",
  "7. Would you like cream on top?"
]

var answers2 = [
["Small", "Standart"],
["1/3 cup", "1/2 cup", "1 cup"],
["1/3 cup", "1/2 cup", "1 cup"],
["Strawberry", "Chocolate", "Banana"],
["1 and a half", "2 and a half", "3"],
["10s", "20s", "30s"],
["Yes", "No"]
]

//These are the right array for the perfect drink.
var smallLatte = [1, 1, 2, 2, 2, 1];
var bigLatte = [1, 2, 3, 3, 3, 1];
var cappuchino = [2, 1, 3, 2, 2, 2];
var smallFrappino = [3, 1, 3, 1, 1 || 2 || 3, 1, 2, 1 || 2]; // can I write like this?
var bigFrappino = [3, 2, 3, 1 || 2 || 3, 2, 2, 1 || 2]; 

//Store input in an array
var input = [];
console.log(input);

//Create variables to the buttons
var myButton1 = document.getElementById("button1");
var myButton2 = document.getElementById("button2");
var myButton3 = document.getElementById("button3");

//// Finding the output element on the screen
var output = document.getElementById("output");

//Create variable for collecting the questions in an array
var index = 0;  
output.innerText = questionsCoffee[index];
console.log ("Output updated!");

// These three lines are causing an error so the program STOPS!
// myButton1.innerText = Latte[0];
// myButton2.innerText = Cappuchino[1];
// myButton3.innerText = Frapino[2];

// create back funktion NOT WORKING!
function back(){
  index--;
  output.innerText = questionsCoffee[index];
}

function myFunction(reference) {
  console.log("BUTTON PUSHED! = " + reference);
  // Store the reference to which button was pushed
  input[index] = (reference);
  index++;
  

  //General questions answers 
  if (index == 1){
  output.innerText = questionsCoffee[index];
  myButton1.innerText = answers[0][0];
  myButton2.innerText = answers[0][1];
  myButton3.style.visibility = "hidden";

  //output.innerText = questionsFrapino[index];
  //myButton1.innerText = answers2[0][0];
  //myButton2.innerText = answers2[0][1];
  //myButton3.style.visibility = "hidden";
  }
  //console.log ("works 1");

  if (index == 2){
  output.innerText = questionsCoffee[index];
  myButton1.innerText = answers[1][0];
  myButton2.innerText = answers[1][1];
  myButton3.style.visibility = "visible";
  myButton3.innerText = answers[1][2];

  }

  if (index == 3){
  output.innerText = questionsCoffee[index];
  myButton1.innerText = answers[2][0];
  myButton2.innerText = answers[2][1];
  myButton3.innerText = answers[2][2];

  }
  //console.log ("works 3");

  if (index == 4){
  output.innerText = questionsCoffee[index];
  myButton1.innerText = answers[3][0];
  myButton2.innerText = answers[3][1];
  myButton3.innerText = answers[3][2];

  }

  if (index == 5){
  output.innerText = questionsCoffee[index];
  myButton1.innerText = answers[4][0];
  myButton2.innerText = answers[4][1];
  myButton3.innerText = answers[4][2];

  
  /*
  if (index == 6){
  output.innerText = questionsFrapino[index];
  myButton1.innerText = answers[5][0];
  myButton2.innerText = answers[5][1];
  myButton3.innerText = answers[5][2];

  
  if (index == 7){
  output.innerText = questionsFrapino[index];
  myButton1.innerText = answers2[6][0];
  myButton2.innerText = answers2[6][1];
  myButton3.innerText = answers2[6][2];
*/

  }

  //These are the right answers for the perfect coffee
  if(index == 6) {
    if (input[0] == 1 && input[1] == 1) {
      this.validate(smallLatte);
    }
    if (input[0] == 1 && input[1] == 2) {
      this.validate(bigLatte);
  }
    if (input[0] == 2) {
      this.validate(cappuchino);
    }
    //if (input[0] == 3 && input[1] == 3) {
      //this.validate(smallFrapino);
    //}
    //if (input[0] == 3 && input[1] == 3) {
   //   this.validate(smallFrapino);

  }
}

//Pushing the wrong anwers in problem array
function validate(answers) {
  var problem = [];
  var message = [];
  for (var i = 0; i < input.length; i++) {
      if (input[i] !== answers[i]) {
        problem.push(i);
      }
  }

//Pushing the messages into mesage array
  if (problem.length < 1) {
    alert("You are a master barista!");
  } else {
    if (problem.includes(2)) {
    message.push(" Your coffee is too weak/strong")
  }
  if (problem.includes(3)) {
    message.push(" To much or not enough milk")
  }
  if (problem.includes(4)) {
    message.push(" Heat milk problem")
  }
  if (problem.includes(5)) {
    message.push(" Foam problem")
  }


  //Giving the final answer about made coffee
  alert('Here is what is wrong with your drink: ' + message);
  }
  

  return message;
}




</script>